@if (user()) {
  <div class="profile-button__wrap" [class.justify-center]="isCollapsed()" [tuiDropdown]="settingsMenu">
    @if (user()?.photoURL) {
      <img
        class="profile__avatar"
        [alt]="user()?.displayName"
        [class.h-8]="isCollapsed()"
        [class.w-8]="isCollapsed()"
        [src]="user()?.photoURL"
      />
    } @else {
      <tui-icon
        class="profile__avatar_placeholder"
        [class.h-8]="isCollapsed()"
        [class.w-8]="isCollapsed()"
        [icon]="'@tui.user'"
      ></tui-icon>
    }
    @if (!isCollapsed()) {
      <div class="profile__info ml-3">
        <div class="profile__name text-sm font-medium text-gray-900 truncate">{{ user()?.displayName }}</div>
        <div class="profile__email text-xs text-gray-500 truncate">{{ user()?.email }}</div>
      </div>
    }
  </div>

  <ng-template #settingsMenu let-close>
    <div class="profile__menu-wrap">
      @if (user()?.photoURL) {
        <img class="profile__avatar" [alt]="user()?.displayName" [src]="user()?.photoURL" />
      } @else {
        <tui-icon class="profile__avatar_placeholder" [icon]="'@tui.user'"></tui-icon>
      }
      <div class="profile__info">
        <div class="profile__name">{{ user()?.displayName }}</div>
        <div class="profile__email">{{ user()?.email }}</div>
      </div>
    </div>
    <menu [routerLink]="['/profile']">
      <tui-icon [icon]="'@tui.id-card'"></tui-icon>
      Profile
    </menu>
    <!--    <menu >-->
    <!--      <mat-icon>account_circle</mat-icon>-->
    <!--      Account-->
    <!--    </menu>-->
    <!--    <menu >-->
    <!--      <mat-icon>language</mat-icon>-->
    <!--      Language-->
    <!--    </menu>-->
    <!-- <menu [disabled]="loading()" (click)="signOut()">
      @if (loading()) {
        <tui-loader [showLoader]="true" [size]="'s'"></tui-loader>
      } @else {
        <tui-icon [icon]="'@tui.log-out'"></tui-icon>
      }
      Sign Out
    </menu> -->
  </ng-template>
}
